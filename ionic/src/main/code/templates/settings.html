<ion-view view-title="Settings">
    <ion-content>
        <div class="list">
            <label class="item item-input" ng-if="userData.isConnectedToFB">
                {{strings.Connect_with_Facebook.text}}
            </label>
            <label class="item item-input">
                <input type="email" name="useremail" ng-model="userData.userEmail" readonly>
            </label>
            <label class="item item-input" ng-if="!userData.isConnectedToFB">
                <span class="input-label">{{strings.Password.text}}</span>
                <input type="password" name="userpsw" ng-model="userData.userPsw" readonly>
            </label>

            <div class="item">
                <a ng-href="#/app/update_signup">{{strings.Update.text}}</a>
            </div>
            <div class="item" ng-controller="AgreementsCtrl">
                <a href ng-click="getAgreement('Terms of Use')">{{strings.Agree.Terms_of_Use}}</a>
                <a href ng-click="getAgreement('Privacy Policy')">{{strings.Agree.Privacy_Policy}}</a>
            </div>
        </div>
        <div class="list">
            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.Regional.Time_Zone}}
                </div>
                <select ng-model="settingsData.timezone">
                    <option ng-selected="{{timezone.isCurrent}}"
                            ng-repeat="timezone in settingsData.timezones"
                            value="{{timezone.abbr}}">
                        {{timezone.name}} ({{timezone.offset}})
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.Regional.Date_Format}}
                </div>
                <select ng-model="settingsData.date">
                    <option ng-selected="{{format.code === settingsData.date}}"
                            ng-repeat="format in settingsData.formats"
                            value="{{format.code}}">
                        {{format.name}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.Regional.Language}}
                </div>
                <select ng-model="settingsData.language">
                    <option ng-selected="{{language.code === settingsData.language}}"
                            ng-repeat="language in settingsData.languages"
                            value="{{language.code}}">
                        {{language.name}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.Regional.Distance}}
                </div>
                <select ng-model="settingsData.distance">
                    <option value="miles">{{strings.Regional.Miles}}</option>
                    <option value="km">{{strings.Regional.Km}}</option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.Regional.Time_Format}}
                </div>
                <select ng-model="settingsData.timeformat">
                    <option value="am_pm">{{strings.Regional.AM_PM}}</option>
                    <option value="military">{{strings.Regional.Military}}</option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.Regional.Currency}}
                </div>
                <select ng-model="settingsData.currency">
                    <option ng-selected="{{currency.name === settingsData.currency}}"
                            ng-repeat="currency in settingsData.currencies"
                            value="{{currency.code}}">
                        {{currency.name}} ({{currency.symbol_native}})
                    </option>
                </select>
            </label>
            <label class="item">
                <button ng-click="saveButtonClick()">
                    {{strings.Save.text}}
                </button>
            </label>
        </div>
        <div class="item">
            <div class="row input-label">
                {{strings.Payment.text}}
            </div>
            <div class="row">
                <div class="col">
                    <input type="text" ng-model="card.type" name="cardtype" readonly>
                </div>
                <div class="col">
                    <input type="text" ng-model="card.number" name="cardnumber" readonly>
                </div>
                <div class="col-10 col-center">
                    <a ng-href="#/app/edit_payment">{{strings.Payment.edit}}</a>
                </div>
            </div>
        </div>
        <pre class="item">
            {{ angular.toJson(settingsData, true) }}
        </pre>
    </ion-content>
</ion-view>