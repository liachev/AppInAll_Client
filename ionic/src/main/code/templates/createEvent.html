<ion-view view-title="Create Event">
    <ion-nav-buttons side="right">
        <button class="button" ng-click="showAlert()">
            {{strings.buttons.done}}
        </button>
    </ion-nav-buttons>
    <form name="createEventForm" ng-submit="createEventForm.$valid && done()" novalidate>
        <ion-content>
            <div class="row">
                <div class="col">
                    <label class="item item-input">
                        <input type="text" name="eventName" ng-model="createEventData.eventName"
                               placeholder="{{strings.eventName.placeholder}}" ng-pattern="/^\w*$/" required>
                        <span style="color:red"
                              ng-show="createEventForm.eventName.$submitted || createEventForm.eventName.$touched">
                            <span ng-show="createEventForm.eventName.$error.required">
                                {{strings.eventName.errorMessages.required}}
                            </span>
                            <span ng-show="createEventForm.eventName.$error.pattern">
                                {{strings.eventName.errorMessages.pattern}}
                            </span>
                        </span>
                    </label>
                </div>

                <div class="col-25 item-image">
                    <img class="avatar" ng-src="{{createEventData.avatarSrc}}" alt="{{fileProgress}}">

                    <h5>
                        <a href onclick="createEventForm.file.click()">{{strings.upload_photo.label}}</a>

                        <input id="file" type="file" style="display: none;" ng-on-read-file="uploadPhoto($fileContent)"
                               accept="image/*"/>
                    </h5>
                </div>
            </div>

            <div class="item">
                <div class="row input-label-left">
                    {{strings.description.label}}
                </div>
                <div class="row">
                    <div class="col">
                        <textarea name="description" ng-model="createEventData.description"
                                  placeholder="{{strings.description.placeholder}}" required></textarea>
                            <span style="color:red"
                                  ng-show="createEventForm.description.$submitted || createEventForm.description.$touched">
                                <span ng-show="createEventForm.description.$error.required">
                                    {{strings.description.errorMessages.required}}
                                </span>
                    </span>
                    </div>
                </div>
            </div>

            <label class="item item-input">
                <input type="text" name="activityName" ng-model="createEventData.activityName" ng-click="showAlert()" readonly
                       placeholder="{{strings.activity.placeholder}}">
            </label>

            <div class="row">
                <div class="col">
                    {{strings.time.start}}
                </div>
                <div class="col">
                    <label class="item item-input">
                        <input id="start" type="datetime-local" ng-model="createEventData.startTime">
                    </label>
                </div>
                <div class="col-10 col-center">
                    <div class="buttons">
                        <button class="button button-icon ion-calendar" >
                        </button>
                    </div>
                </div>
            </div>

            <div class="row">
            <div class="col">
                {{strings.time.end}}
            </div>
            <div class="col">
                <label class="item item-input">
                    <input id="end" type="datetime-local" ng-model="createEventData.endTime">
                </label>
            </div>
            <div class="col-10 col-center">
                <div class="buttons">
                    <button class="button button-icon ion-refresh">
                    </button>
                </div>
            </div>
        </div>

            <div class="item item-input item-select">
                <div class="input-label">
                    {{strings.list.location.label}}
                </div>
                <select ng-model="createEventData.location" ng-change="changeSelect()">
                    <option value="current">{{strings.list.location.currentLoc}}</option>
                    <option value="address">{{strings.list.location.address}}</option>
                    <option value="online">{{strings.list.location.online}}</option>
                </select>
            </div>

            <div class="item item-input item-select">
                <div class="input-label">
                    {{strings.list.privacy}}
                </div>
                <select ng-model="createEventData.privacy">
                    <option ng-repeat="privacy in privacyArr"
                            value="{{privacy.value}}">
                        {{privacy.name}}
                    </option>
                </select>
            </div>

            <div class="item item-input item-select">
                <div class="input-label">
                    {{strings.list.gender}}
                </div>
                <select ng-model="createEventData.gender">
                    <option ng-repeat="gender in genderArr"
                            value="{{gender.value}}">
                        {{gender.name}}
                    </option>
                </select>
            </div>

            <div class="item item-input item-select">
                <div class="input-label">
                    {{strings.list.age_group}}
                </div>
                <select ng-model="createEventData.age">
                    <option ng-repeat="age in ages"
                            value="{{age.value}}">
                        {{age.name}}
                    </option>
                </select>
            </div>

            <div class="row">
                <div class="col">
                    {{strings.restrictions.label}}
                </div>
                <div class="col">
                    <input type="text" name="restrictionsStatus" readonly>
                </div>
                <div class="col-10 col-center">
                    <a ng-href="#" ng-click="restrictionsOpen()">{{strings.restrictions.link}}</a>
                </div>
            </div>

            <label class="item item-input item-select">
                <div class="input-label">
                    {{strings.notificationModal.title}}
                </div>
                <select ng-model="createEventData.notificationSelect">
                    <option value="default">{{strings.notificationModal.selectDefault}}</option>
                    <option value="01">1</option>
                    <option value="02">2</option>
                    <option value="03">3</option>
                </select>
            </label>

            <div class="row">
                <div class="col">
                    {{strings.fee.label}}
                </div>
                <div class="col">
                    <input type="text" name="feeStatus" readonly>
                </div>
                <div class="col-10 col-center">
                    <a ng-href="#" ng-click="feeOpen()">{{strings.fee.link}}</a>
                </div>
            </div>

            <ion-radio ng-model="createEventData.radio" value="publish">{{strings.radio.buttonPublish}}</ion-radio>
            <ion-radio ng-model="createEventData.radio" value="draft">{{strings.radio.buttonDraft}}</ion-radio>


            <!--Modal Windows-->
            <script id="addressEdit.html" type="text/ng-template">
                <ion-modal-view>
                    <ion-header-bar class="bar bar-header bar-positive">
                        <h1 class="title">{{strings.addressModal.title}}</h1>
                    </ion-header-bar>
                    <ion-content class="padding">
                        <div class="list">
                            <label class="item item-input">
                                <input ng-model="createEventData.venueName" type="text" placeholder="{{strings.addressModal.name}}">
                            </label>

                            <label class="item item-input">
                                <input ng-model="createEventData.address1" type="text" placeholder="{{strings.addressModal.address_1}}">
                            </label>

                            <label class="item item-input">
                                <input ng-model="createEventData.address2" type="text" placeholder="{{strings.addressModal.address_2}}">
                            </label>

                            <label class="item item-input">
                                <input ng-model="createEventData.city" type="text" placeholder="{{strings.addressModal.city}}">
                            </label>

                            <div class="row">
                                <div class="col">
                                    <label class="item item-input">
                                        <input ng-model="createEventData.state" type="text" placeholder="{{strings.addressModal.state}}">
                                    </label>
                                </div>
                                <div class="col">
                                    <label class="item item-input">
                                        <input ng-model="createEventData.zip" type="text" placeholder="{{strings.addressModal.zip}}">
                                    </label>
                                </div>
                            </div>
                        </div>

                        <button class="button button-full button-positive" ng-click="addressEditClose()">
                            {{strings.modalButtons.cancel}}</button>
                        <button class="button button-full button-positive">
                            {{strings.modalButtons.apply}}</button>
                    </ion-content>
                </ion-modal-view>
            </script>

            <script id="restrictions.html" type="text/ng-template">
                <ion-modal-view>
                    <ion-header-bar class="bar bar-header bar-positive">
                        <h1 class="title">{{strings.restrictionsModal.title}}</h1>
                    </ion-header-bar>
                    <ion-content class="padding">
                        <div class="list">
                            <ion-checkbox ng-model="createEventData.IsCheckedRequiresApproval">
                                {{strings.restrictionsModal.checkbox.requires_approval}}
                            </ion-checkbox>

                            <div class="item item-divider">
                                {{strings.restrictionsModal.radio.label}}
                            </div>

                            <ion-radio ng-model="createEventData.IsCheckedSeats" value="unlimited">
                                {{strings.restrictionsModal.radio.radioUnlimited}}
                            </ion-radio>

                            <ion-radio ng-model="createEventData.IsCheckedSeats" value="limited">
                                {{strings.restrictionsModal.radio.radioMax.onePart}}
                            </ion-radio>

                            <input type="number" ng-model="createEventData.seatsValue" placeholder="100" ng-disabled="createEventData.IsCheckedSeats !== 'limited'">

                            {{strings.restrictionsModal.radio.radioMax.twoPart}}

                            <ion-checkbox ng-model="createEventData.IsCheckedShowNumber" ng-show="createEventData.IsCheckedSeats == 'limited'">
                                {{strings.restrictionsModal.checkbox.maxSeats}}
                            </ion-checkbox>

                        </div>
                        <button class="button button-full button-positive" ng-click="restrictionsClose()">
                            {{strings.modalButtons.cancel}}</button>

                        <button class="button button-full button-positive">
                            {{strings.modalButtons.apply}}</button>
                    </ion-content>
                </ion-modal-view>
            </script>

            <script id="fee.html" type="text/ng-template">
                <ion-modal-view>
                    <ion-content>
                        <div class="list">
                            <ion-radio ng-model="createEventData.IsCheckedFee" value="free">{{strings.feeModal.radio.free}}</ion-radio>

                            <ion-radio ng-model="createEventData.IsCheckedFee" value="one_time_payment">
                                {{strings.feeModal.radio.one_time_payment}}
                            </ion-radio>

                            <input type="number" ng-model="createEventData.OneTimePrise" ng-disabled="createEventData.IsCheckedFee !== 'one_time_payment'">

                            <ion-radio ng-model="createEventData.IsCheckedFee" value="subscription_payment">
                                {{strings.feeModal.radio.Subscription.text}}
                            </ion-radio>

                            <input type="number" ng-model="createEventData.SubscriptionPrise" ng-disabled="createEventData.IsCheckedFee !== 'subscription_payment'">

                            {{strings.feeModal.radio.Subscription.every}}

                            <div class="item item-input item-select">
                                <select ng-model="createEventData.paymentPeriod" ng-disabled="createEventData.IsCheckedFee !== 'subscription_payment'">
                                    <option ng-repeat="period in periodArr"
                                            value="{{period.value}}">
                                        {{period.name}}
                                    </option>
                                </select>
                            </div>
                        </div>


                        <button class="button button-full button-positive" ng-click="feeClose()">
                            {{strings.modalButtons.cancel}}</button>

                        <button class="button button-full button-positive">
                            {{strings.modalButtons.apply}}</button>
                    </ion-content>
                </ion-modal-view>
            </script>

        </ion-content>
    </form>
</ion-view>