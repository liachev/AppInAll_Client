<ion-view view-title="Create Event">
    <ion-nav-buttons side="right">
        <button class="button" ng-click="showAlert()" translate="CREATE_EVENT_PAGE.buttons.done"></button>
    </ion-nav-buttons>
    <form name="createEventForm" ng-submit="createEventForm.$valid && done()" novalidate>
        <ion-content>
            <div class="row">
                <div class="col">
                    <label class="item item-input">
                        <input type="text" name="eventName" ng-model="createEventData.eventName"
                               placeholder="{{'CREATE_EVENT_PAGE.eventName.placeholder' | translate}}"
                               ng-pattern="/^\w*$/" required>
                        <span style="color:red"
                              ng-show="createEventForm.eventName.$submitted || createEventForm.eventName.$touched">
                            <span ng-show="createEventForm.eventName.$error.required"
                                  translate="CREATE_EVENT_PAGE.eventName.errorMessages.required"></span>
                            <span ng-show="createEventForm.eventName.$error.pattern"
                                  translate="CREATE_EVENT_PAGE.eventName.errorMessages.pattern"></span>
                        </span>
                    </label>
                </div>

                <div class="col-25 item-image">
                    <img class="avatar" ng-src="{{createEventData.avatarSrc}}" alt="{{fileProgress}}">

                    <h5>
                        <a href onclick="createEventForm.file.click()"
                           translate="CREATE_EVENT_PAGE.upload_photo.label"></a>

                        <input id="file" type="file" style="display: none;" ng-on-read-file="uploadPhoto($fileContent)"
                               accept="image/*"/>
                    </h5>
                </div>
            </div>

            <div class="item">
                <div class="row input-label-left" translate="CREATE_EVENT_PAGE.description.label"></div>
                <div class="row">
                    <div class="col">
                        <textarea name="description" ng-model="createEventData.description"
                                  placeholder="{{'CREATE_EVENT_PAGE.description.placeholder' | translate}}"
                                  required></textarea>
                            <span style="color:red"
                                  ng-show="createEventForm.description.$submitted || createEventForm.description.$touched">
                                <span ng-show="createEventForm.description.$error.required"
                                      translate="CREATE_EVENT_PAGE.description.errorMessages.required"></span>
                    </span>
                    </div>
                </div>
            </div>

            <label class="item item-input">
                <input type="text" name="activityName" ng-model="createEventData.activityName" ng-click="showAlert()"
                       readonly
                       placeholder="{{'CREATE_EVENT_PAGE.activity.placeholder' | translate}}">
            </label>

            <div class="row">
                <div class="col" translate="CREATE_EVENT_PAGE.time.start"></div>
                <div class="col">
                    <label class="item item-input">
                        <input id="start" type="datetime-local">
                    </label>
                </div>
                <div class="col-10 col-center">
                    <div class="buttons">
                        <button class="button button-icon ion-calendar">
                        </button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col" translate="CREATE_EVENT_PAGE.time.end"></div>
                <div class="col">
                    <input type="text" name="restrictionsStatus" readonly>
                </div>
                <div class="col-10 col-center">
                    <div class="buttons">
                        <button class="button button-icon ion-refresh" ng-click="showAlert()">
                        </button>
                    </div>
                </div>
            </div>

            <div class="item item-input item-select">
                <div class="input-label" translate="CREATE_EVENT_PAGE.list.location.label"></div>
                <select ng-model="createEventData.location" ng-change="change()">
                    <option value="current" translate="CREATE_EVENT_PAGE.list.location.currentLoc"></option>
                    <option value="address" translate="CREATE_EVENT_PAGE.list.location.address"></option>
                    <option value="online" translate="CREATE_EVENT_PAGE.list.location.online"></option>
                </select>
            </div>

            <div class="item item-input item-select">
                <div class="input-label" translate="CREATE_EVENT_PAGE.list.privacy"></div>
                <select ng-model="createEventData.privacy">
                    <option ng-repeat="privacy in privacyArr"
                            value="{{privacy.value}}">
                        {{privacy.name}}
                    </option>
                </select>
            </div>

            <div class="item item-input item-select">
                <div class="input-label" translate="CREATE_EVENT_PAGE.list.gender"></div>
                <select ng-model="createEventData.gender">
                    <option ng-repeat="gender in genderArr"
                            value="{{gender.value}}">
                        {{gender.name}}
                    </option>
                </select>
            </div>

            <div class="item item-input item-select">
                <div class="input-label" translate="CREATE_EVENT_PAGE.list.age_group"></div>
                <select ng-model="createEventData.age">
                    <option ng-repeat="age in ages"
                            value="{{age.value}}">
                        {{age.name}}
                    </option>
                </select>
            </div>

            <div class="row">
                <div class="col" translate="CREATE_EVENT_PAGE.restrictions.label"></div>
                <div class="col">
                    <input type="text" name="restrictionsStatus" readonly>
                </div>
                <div class="col-10 col-center">
                    <a ng-href="#/app/createEvent" ng-click="showAlert()"
                       translate="CREATE_EVENT_PAGE.restrictions.link"></a>
                </div>
            </div>

            <div class="row">
                <div class="col" translate="CREATE_EVENT_PAGE.notifications.label"></div>
                <div class="col">
                    <input type="text" name="notificationsStatus" readonly>
                </div>
                <div class="col-10 col-center">
                    <a ng-href="#/app/createEvent" ng-click="showAlert()"
                       translate="CREATE_EVENT_PAGE.notifications.link"></a>
                </div>
            </div>

            <div class="row">
                <div class="col" translate="CREATE_EVENT_PAGE.fee.label"></div>
                <div class="col">
                    <input type="text" name="feeStatus" readonly>
                </div>
                <div class="col-10 col-center">
                    <a ng-href="#/app/createEvent" ng-click="showAlert()" translate="CREATE_EVENT_PAGE.fee.link"></a>
                </div>
            </div>

            <ion-radio ng-model="createEventData.radio" ng-value="'publish'">
                {{'CREATE_EVENT_PAGE.radio.buttonPublish' | translate}}
            </ion-radio>
            <ion-radio ng-model="createEventData.radio" ng-value="'draft'">
                {{'CREATE_EVENT_PAGE.radio.buttonDraft' | translate}}
            </ion-radio>

            <!--Modal Windows-->
            <script id="addressEdit.html" type="text/ng-template">
                <ion-modal-view>
                    <ion-header-bar class="bar bar-header bar-positive">
                        <h1 class="title" translate="CREATE_EVENT_PAGE.addressModal.title"></h1>
                    </ion-header-bar>
                    <ion-content class="padding">
                        <div class="list">
                            <label class="item item-input">
                                <input ng-model="createEventData.venueName" type="text"
                                       placeholder="{{'CREATE_EVENT_PAGE.addressModal.name' | translate}}">
                            </label>

                            <label class="item item-input">
                                <input ng-model="createEventData.address1" type="text"
                                       placeholder="{{'CREATE_EVENT_PAGE.addressModal.address_1' | translate}}">
                            </label>

                            <label class="item item-input">
                                <input ng-model="createEventData.address2" type="text"
                                       placeholder="{{'CREATE_EVENT_PAGE.addressModal.address_2' | translate}}">
                            </label>

                            <label class="item item-input">
                                <input ng-model="createEventData.city" type="text"
                                       placeholder="{{'CREATE_EVENT_PAGE.addressModal.city' | translate}}">
                            </label>

                            <div class="row">
                                <div class="col">
                                    <label class="item item-input">
                                        <input ng-model="createEventData.state" type="text"
                                               placeholder="{{'CREATE_EVENT_PAGE.addressModal.state' | translate}}">
                                    </label>
                                </div>
                                <div class="col">
                                    <label class="item item-input">
                                        <input ng-model="createEventData.zip" type="text"
                                               placeholder="{{'CREATE_EVENT_PAGE.addressModal.zip' | translate}}">
                                    </label>
                                </div>
                            </div>

                            <button class="button button-full button-positive" ng-click="addressEditClose()"
                                    translate="CREATE_EVENT_PAGE.addressModal.buttons.cancel"></button>
                            <button class="button button-full button-positive" ng-click="createContact(newUser)"
                                    translate="CREATE_EVENT_PAGE.addressModal.buttons.apply"></button>
                        </div>
                    </ion-content>
                </ion-modal-view>
            </script>
        </ion-content>
    </form>
</ion-view>